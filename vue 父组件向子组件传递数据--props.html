<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>vue 父组件向子组件传递数据--props</title>
    <link rel="stylesheet" href="./css/global.css">
</head>

<body>
    <div id="app">

        <!-- 调用组件 -->
        <v-comp :title='title' :messages='messages'></v-comp>

    </div>

    <!-- 子组件模板 -->
    <template id='childComp'>
        <div>
            <h2>子组件</h2>
            <ul>
                <li v-for="item in cperson">{{item}}</li>
            </ul>
        </div>
    </template>

    <!-- 父组件模板 -->
    <template id='comp'>
        <div>
            <h2>父组件</h2>
            <h2>{{title}}</h2>
            <ul>
                <li v-html="msg" v-for='msg in messages'></li>
            </ul>
            <!-- 调用子组件 -->
            <v-child :cperson='person'></v-child>
        </div>
    </template>


    <script src="js/vue.js"></script>
    <script>
        // 子组件
        const childComp = {
            template: '#childComp',
            props: ['cperson']
        }
        // 父组件
        const comp = {
            template: '#comp',
            components: {
                'v-child': childComp
            },
            data() {
                return {
                    'person': {
                        name: 'LEEE',
                        age: 18
                    }
                }
            },
            props:['title','messages']
        }

        const app = new Vue({
            el: '#app',
            data: {
                title: 'vue 父组件向子组件传递数据--props',
                messages: [
                    `<h4>父子组件的通信</h4>`,
                    `实际开发中很多时候需要将数据从上层传递到下层，大组件用来发送请求，接收服务器数据，小组件用来进行数据展示，
                    这时需要将数据从父组件（大组件）传递给子组件（小组件）`,
                    `<h4>父子组件如何通信呢？</h4>`,
                    `父组件通过 props 向子组件传递数据（或者说子组件通过props对象从父组件拉取数据）`,
                    `子组件通过 $emit 事件向给父组件发送信息`,
                    `vue 实例相当于一个最大的父组件`,
                    `实际开发中，Vue 实例和子组件的通信和父组件和子组件的通信过程是一样的`,
                    `<h4>props 基本用法</h4>`,
                    `子组件使用 props 来声明需要从父级接收的数据`,
                    `props 的值可以设置为两种方式`,
                    `方式一：字符串数组，数组中的字符串就是传递的数据名称`,
                    `方式二：对象，对象模式可扩展性更强，可设置数据类型，也可设置默认值，更可添加数据校验`,
                ]
            },
            components: {
                'v-comp': comp
            },
            computed: {},
            methods: {},
        });
    </script>
</body>

</html>